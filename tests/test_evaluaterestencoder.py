import unittest

import numpy as np

import EvaluateRestEncoder


class TestEvaluateRestController(unittest.TestCase):

    def setUp(self):
        self.samples = [
            ['i', 'like', 'to', 'drink', 'coffee', 'in', 'the', 'morning', '.'],
            ['coffee', 'tastes', 'best', 'when', 'combined', 'with', 'mettbroetchen', '.']
        ]
        self.arora = {
            'vocabulary': {
                'restofrealvocab': 3409819052,
                'is': 30220996,
                'that': 18155376,
                'this': 12319678,
                'an': 11150424,
                'another': 1129247,
                'example': 719965,
                'longer': 306308,
                'sentence': 181490,
                'slightly': 132936
            },
            'word_vectors': {  # GloVe vectors
                'is': [-0.084961, 0.502, 0.0023823, -0.16755, 0.30721, -0.23762, 0.16069, -0.36786, -0.058347, 2.499,
                       -0.0023647, 0.010732, -0.30422, 0.084579, -0.040299, -0.41562, -0.024494, 1.4691, -0.052932,
                       -0.074413, -0.39244, -0.32535, -0.22333, 0.0056823, 0.35675, 0.19445, 0.056762, -0.045502,
                       -0.28105, -0.058896, -0.098626, 0.092177, 0.33172, -0.039967, -0.11766, 0.048373, -0.062241,
                       -0.10413, 0.00099263, -0.48925, 0.34786, 0.32724, 0.13882, -0.19917, 0.12995, 0.060549, -0.23714,
                       -0.51295, -0.37396, 0.12902, 0.055797, 0.33444, -0.18025, -0.03474, 0.28323, -0.095301, 0.21143,
                       -0.076149, 0.15069, -0.17441, -0.0074768, -0.078287, -0.12751, 0.22545, 0.035101, -0.61015,
                       -0.26812, 0.061632, -0.30503, -0.13405, -0.44271, -0.1772, 0.17663, -0.3121, -0.25722, -0.024858,
                       0.072504, -0.079759, -0.19214, 0.59602, 0.1288, -0.074629, -0.15812, 0.36394, 0.23055, -0.42175,
                       -0.090651, -0.30085, 0.1794, -0.29786, -0.10642, 0.47239, -0.13837, -0.10161, 0.080134, 0.040715,
                       -0.36976, -0.037066, 0.10436, 0.17904, 0.15702, -0.07467, -0.29431, 0.12829, 0.055211, -0.43906,
                       -0.068231, 0.097107, -0.28209, -0.086528, -0.24204, 0.028734, -0.21509, 0.027152, -0.17996,
                       0.19317, -0.27929, 0.29415, -0.10965, -0.10432, -0.5217, -0.046789, 0.13743, -0.15518, -0.10359,
                       0.18853, -0.12684, -0.67278, 0.034483, -0.22937, -0.098073, -0.070157, 0.084374, 0.26594,
                       0.23104, -0.29251, -0.087209, -0.23342, 0.063759, -0.13556, -0.84046, 0.24681, 0.30498, 0.35438,
                       0.14137, -0.3672, 0.23321, -0.15497, 0.48364, 0.014711, -0.24176, 0.037589, 0.19829, -0.069403,
                       -0.0017362, 0.041694, -0.34193, -0.20034, -0.45581, -0.12504, 0.13954, 0.032275, -0.005213,
                       0.045422, -0.0026574, -0.26266, 0.064168, -0.14231, 0.00035709, -0.23253, 0.027615, -0.074282,
                       0.18671, -0.12994, -0.43731, 0.1455, 0.044838, -0.19022, -0.15401, 0.14188, 0.098269, -0.04293,
                       -0.27478, -0.33224, -0.32167, -0.10509, -0.19816, -0.065097, -0.091251, 0.19528, -0.33297,
                       -0.15504, -0.47688, 0.31985, 0.19886, 0.11501, 0.055757, -0.054307, 0.28851, 0.27982, 0.01396,
                       -0.0012891, -0.23128, 0.075396, 0.043587, -0.13937, -0.062935, 0.12568, 0.095235, -0.085203,
                       -0.24241, -0.048771, 0.095937, -0.22347, 0.23503, 0.31517, -0.0149, 0.21739, -0.19431, -0.23255,
                       -0.22961, 0.048297, 0.1605, -0.0161, 0.04277, -0.32367, 0.1468, 0.24551, 0.075506, -0.039703,
                       -0.10321, 0.16194, 0.27132, 0.046348, -0.092743, -0.14929, 0.27378, -0.36958, -0.4153, 0.18402,
                       -0.049775, 0.06967, 0.13447, 0.17788, -0.047586, -0.36491, -0.13733, -0.48119, 0.24681,
                       -0.089842, 0.037939, -0.18284, 0.47012, -0.099584, -0.18365, -0.071821, 0.41607, -0.18581, 0.184,
                       -0.029028, 0.41228, 0.022856, 0.050915, -0.11911, 0.081231, 0.13845, 0.046595, -0.043974,
                       0.63601, 0.0037101, 0.093937, -0.093442, -0.47606, -0.26427, -0.023044, -0.058241, 0.1144,
                       -0.051702, 0.35225, 0.25341, 0.57256, 0.22867, 0.0085401, -0.062531, -0.032118, -0.15647,
                       -0.084344, 0.076667, 0.34515, -0.19452, 0.087003, -0.078201, -0.069673, -0.16993, 0.23598,
                       0.2755, -0.06718, -0.21511, -0.26304, -0.0060173],
                'that': [0.09852, 0.25001, -0.27018, -0.23186, 0.022378, 0.045321, -0.052444, -0.058867, -0.031937,
                         3.0121, -0.023642, -0.077292, 0.30742, 0.073579, -0.33171, -0.16588, -0.020228, 1.085,
                         -0.42189, -0.24159, 0.20511, 0.025093, 0.11497, -0.024636, -0.10416, 0.19698, -0.20124,
                         -0.036615, -0.15073, -0.25125, -0.16182, 0.22131, -0.041937, 0.064382, 0.066347, -0.0069173,
                         -0.13059, -0.037921, -0.13478, -0.095946, 0.016818, 0.26046, 0.040114, -0.20923, 0.23095,
                         -0.059719, -0.38339, -0.10134, -0.10069, 0.073018, -0.27729, 0.08258, -0.073222, 0.19346,
                         0.23859, -0.052506, 0.13046, -0.1345, -0.096133, -0.11073, 0.098949, -0.0050032, -0.12383,
                         0.35765, -0.11829, -0.22458, 0.023951, 0.24224, 0.041263, 0.11803, -0.0027008, 0.020971,
                         0.3115, -0.021006, -0.1889, -0.11755, -0.1038, -0.20398, -0.20374, 0.34373, 0.10465, 0.12733,
                         -0.34323, -0.21958, 0.21851, -0.46476, -0.13259, -0.4958, 0.29493, 0.052023, -0.030517,
                         0.0040759, -0.12702, 0.29625, 0.14591, 0.051789, -0.093879, -0.085754, -0.18455, 0.044252,
                         0.058965, 0.18165, -0.18175, -0.078165, 0.069561, -1.285, -0.054441, 0.15005, -0.16758,
                         -0.055905, -0.03011, 0.18919, -0.14799, -0.11013, 0.072332, -0.064289, -0.16124, 0.056683,
                         0.17084, -0.1339, 0.067247, -0.23344, 0.023066, -0.10787, -0.086551, 0.076817, -0.013164,
                         -0.66599, 0.080374, 0.011884, -0.14544, 0.057928, 0.18992, 0.038859, 0.034437, 0.1724,
                         0.028254, -0.2956, 0.18364, -0.0085466, -1.3864, 0.26142, 0.23629, 0.2047, -0.062789, -0.16743,
                         -0.13996, -0.043662, -0.040376, -0.18405, -0.13819, -0.15173, 0.0082284, -0.060196, 0.064731,
                         -0.08564, -0.30603, -0.20295, -0.24928, -0.037877, -0.21733, 0.22598, -0.12165, -0.12929,
                         -0.17562, -0.042181, 0.22738, 0.0033748, 0.22381, -0.10925, 0.11977, -0.070582, 0.10818,
                         -0.15419, -0.068567, 0.11879, 0.032163, -0.12023, 0.0015811, -0.031903, -0.19634, -0.012366,
                         -0.10347, -0.13484, -0.23577, -0.0044767, 0.12205, 0.043512, -0.020441, 0.14099, 0.1091,
                         -0.19912, -0.41783, 0.2083, 0.12752, 0.10165, -0.18279, -0.12781, -0.11247, 0.3266, -0.18286,
                         -0.012189, -0.098733, -0.14702, 0.19123, 0.10175, 0.066325, 0.065839, -0.0069673, -0.017495,
                         -0.10122, -0.12645, -0.17692, -0.074391, 0.23176, 0.2065, -0.32261, -0.016756, -0.22781,
                         -0.26889, 0.028889, 0.11281, -0.087673, 0.13235, 0.20797, 0.24392, 0.088125, 0.18456,
                         -0.041869, 0.18712, -0.12383, 0.14974, -0.0022145, 0.023455, -0.070194, 0.023735, 0.16384,
                         -0.011675, -0.14943, 0.31397, 0.13872, 0.035348, 0.0062663, 0.20222, 0.32528, -0.38256,
                         0.0085346, -0.41604, -0.058313, 0.21325, 0.098621, -0.26227, -0.0039877, 0.00062827, -0.22198,
                         0.13791, 0.17525, 0.082616, 0.25852, -0.047226, 0.40242, 0.049074, -0.36251, 0.099738, 0.28844,
                         0.13101, -0.058852, 0.13985, 0.74787, 0.21331, 0.14665, -0.074234, -0.023464, -0.13176,
                         -0.023619, -0.071066, -0.16462, 0.26197, 0.37356, 0.16785, 0.15434, 0.12311, 0.068364,
                         -0.042458, -0.083352, -0.14705, 0.22365, 0.051185, 0.21317, -0.32661, -0.24267, 0.11959,
                         0.013652, -0.11243, -0.089702, -0.19614, -0.27097, -0.062639, 0.24424, 0.17779],
                'this': [-0.087595, 0.35502, 0.063868, 0.29292, -0.23635, -0.062773, -0.16105, -0.22842, 0.041587,
                         2.4844, -0.38217, 0.032806, 0.12348, -0.0018422, -0.13848, -0.0010005, -0.043081, 1.1659,
                         -0.047327, -0.056004, 0.15617, -0.13394, 0.23229, 0.087602, -0.32329, 0.16721, -0.16221,
                         -0.091919, -0.38004, 0.12686, 0.067819, 0.32509, -0.057245, -0.3263, -0.11903, -0.00063964,
                         -0.0059275, -0.29934, -0.085043, -0.26683, -0.15815, 0.25963, 0.22571, 0.062582, -0.19394,
                         0.21922, -0.31186, 0.37084, -0.36577, -0.052483, -0.43101, 0.12379, 0.015529, -0.12505,
                         0.22327, 0.29365, -0.0085104, -0.083909, 0.24078, -0.34913, -0.28355, -0.076594, -0.1713,
                         0.32869, 0.29024, -0.062741, -0.055278, -0.28706, 0.079608, 0.13234, 0.47857, 0.19623, 0.27314,
                         -0.13089, 0.2763, -0.088846, -0.12379, 0.073987, -0.51962, 0.35227, -0.029182, 0.16203,
                         -0.036908, 0.28035, 0.31739, -0.27597, -0.43637, -0.32842, 0.3676, -0.16278, -0.16278, 0.37066,
                         -0.1134, 0.3092, 0.26133, 0.39483, -0.074612, -0.22158, 0.25172, 0.2999, 0.10566, -0.11406,
                         -0.35395, 0.066704, 0.050216, -0.71479, 0.098646, -0.058832, -0.004779, -0.2392, 0.10179,
                         -0.27205, 0.16836, 0.2342, -0.37496, 0.31125, -0.3112, 0.21778, 0.30323, -0.11729, -0.054639,
                         -0.15356, 0.051771, -0.11426, 0.022473, 0.044405, -0.32101, -0.27799, 0.24675, -0.1176,
                         -0.015964, -0.40969, -0.26082, 0.16021, 0.061166, -0.0031131, -0.30573, -0.041686, 0.23524,
                         -0.058415, -1.6003, 0.10126, 0.12116, 0.015319, -0.11945, -0.39095, -0.19919, 0.04393, 0.22886,
                         -0.053961, -0.02657, 0.11952, 0.18446, -0.069963, 0.36429, -0.023679, -0.45081, -0.037263,
                         -0.13243, -0.11009, -0.15201, 0.12182, -0.093379, 0.10215, -0.34126, -0.07815, 0.027685,
                         -0.0048772, 0.27281, -0.11304, 0.01247, 0.27008, 0.38885, -0.23909, -0.16375, 0.019977,
                         -0.10628, 0.055798, 0.14127, 0.46536, -0.33169, 0.18308, 0.29646, 0.023906, 0.32799, -0.53632,
                         -0.46895, -0.017593, 0.0046805, -0.096152, -0.12695, 0.064099, -0.29787, 0.37799, 0.44469,
                         0.12248, 0.076388, -0.18102, -0.011795, 0.4009, -0.36967, -0.24106, -0.42252, 0.21378, 0.40977,
                         0.13013, -0.033478, 0.0093179, 0.29553, 0.068702, -0.14949, 0.10473, 0.3886, -0.37063,
                         -0.068934, 0.42111, 0.10861, 0.18585, -0.11387, 0.2037, 0.094214, -0.21426, -0.19376, 0.12261,
                         0.13971, -0.54205, -0.24502, 0.47454, -0.05938, -0.12865, -0.17345, 0.37465, -0.072616,
                         0.31124, -0.00033315, -0.0031445, 0.0011435, -0.080773, -0.052824, 0.26108, 0.24586, -0.058762,
                         -0.021999, 0.1406, 0.36004, -0.081521, -0.028828, 0.23878, -0.12243, 0.18758, 0.069072,
                         -0.068685, 0.12377, 0.031713, -0.1153, 0.38205, 0.48575, -0.16466, 0.11033, 0.13873, 0.32145,
                         0.028014, -0.05476, -0.19438, -0.015438, -0.056435, 0.023037, 0.42915, 0.5908, 0.096298,
                         0.12788, 0.15916, -0.072056, -0.21036, 0.057346, 0.045768, 0.1573, 0.31019, -0.042692,
                         0.017531, 0.029585, -0.042749, -0.10006, -0.31611, -0.0045054, -0.13689, 0.40798, -0.065866,
                         0.20162, -0.07966, -0.039495, 0.093723, 0.093557, -0.097551, 0.30639, -0.27325, -0.33112,
                         0.03446, -0.15027, 0.40673],
                'an': [-0.011662, 0.19483, 0.088854, 0.54694, 0.25764, 0.15619, -0.34131, -0.21666, -0.14187, 2.4525,
                       -0.064806, 0.085481, -0.11925, 0.0087107, 0.18261, -0.29207, -0.11578, 1.571, -0.31973, -0.41279,
                       -0.18129, -0.29101, -0.21584, 0.19685, 0.1524, -0.090306, -0.097694, 0.098791, 0.067369,
                       -0.24964, 0.099773, 0.32079, -0.056697, 0.32238, 0.15905, -0.45345, 0.11294, -0.50674, 0.23202,
                       -0.55625, 0.39208, 0.14811, -0.18637, -0.62775, -0.02939, -0.10555, -0.095531, -0.097434, 0.1972,
                       0.22059, -0.11017, -0.048332, -0.048414, 0.0029998, 0.099272, -0.023553, 0.014603, -0.098494,
                       -0.14167, 0.11831, -0.012322, 0.036239, 0.10297, 0.11158, -0.04193, -0.16625, 0.28472, -0.22051,
                       -0.049708, 0.32561, -0.244, -0.02814, -0.0071356, -0.22616, -0.089478, 0.082447, 0.048198,
                       -0.28326, -0.7462, 0.60872, 0.21592, 0.13517, -0.005879, 0.15697, 0.017543, -0.6507, -0.6081,
                       0.13962, 0.28628, -0.34076, -0.32782, 0.33876, 0.22207, -0.14818, -0.32918, -0.15938, -0.38448,
                       -0.12595, -0.099549, -0.28544, 0.0093137, 0.0078235, -0.093138, -0.068065, 0.026759, -1.0398,
                       0.24762, 0.38398, 0.6623, -0.26994, 0.19174, -0.13892, -0.37396, -0.00016413, -0.094473, 0.09779,
                       -0.44733, 0.17914, -0.22492, 0.011517, -0.21837, -0.027095, 0.22307, -0.34854, -0.18707,
                       0.0030603, -0.42032, -0.18487, -0.56208, -0.15139, -0.10828, -0.21532, -0.27416, -0.20356,
                       0.24666, -0.23746, -0.12539, -0.014658, 0.044677, -0.68932, -0.7128, 0.19282, 0.043114, 0.092519,
                       -0.071066, -0.37312, 0.25582, -0.29538, 0.34666, -0.20368, 0.18214, 0.32011, 0.10774, -0.19064,
                       0.49321, 0.11759, -0.077502, -0.20347, -0.30257, -0.24968, -0.33035, -0.11076, 0.17257, -0.25248,
                       -0.15597, -0.095579, 0.29602, -0.11353, 0.11378, 0.04217, -0.10416, 0.10275, 0.32486, 0.12846,
                       0.0086711, -0.087829, 0.041325, -0.25309, -0.44164, -0.13862, -0.311, 0.15086, -0.29916,
                       -0.54871, -0.46731, -0.18136, -0.13318, 0.24436, 0.013889, -0.21335, -0.31292, 0.2053, -0.61686,
                       0.5607, 0.22628, 0.42597, -0.30931, -0.19921, -0.16589, 0.16017, 0.059949, 0.16039, -0.094529,
                       0.21313, 0.4397, -0.11975, 0.2091, 0.20094, 0.17543, 0.1891, -0.44454, 0.077866, 0.081136,
                       -0.36833, -0.40159, 0.62475, -0.054086, 0.52973, 0.048823, -0.03157, -0.012963, 0.055686,
                       -0.094021, 0.070565, -0.37699, -0.36916, 0.064286, 0.41971, 0.10837, -0.13602, -0.056549,
                       -0.040015, 0.3409, 0.11575, -0.054581, -0.20758, 0.40873, 0.001297, -0.36174, 0.59374, 0.074668,
                       0.27985, 0.33846, 0.51372, 0.48615, -0.26198, 0.25109, 0.23477, 0.16903, -0.14265, -0.19448,
                       -0.10927, 0.21903, 0.13169, -0.073529, 0.05847, 0.30656, -0.21659, -0.035887, 0.2382, -0.19286,
                       0.23738, 0.32946, -0.43599, 0.16886, -0.21193, -0.069089, -0.48063, 0.40617, -0.0051688, 0.68038,
                       -0.018951, -0.23077, -0.0039166, -0.36334, 0.32451, -0.3719, -0.065041, 0.50366, 0.18549,
                       0.42846, 0.33319, 0.14532, 0.02386, -0.070744, -0.66983, -0.11862, 0.07278, 0.27465, -0.049775,
                       0.0021254, 0.18468, -0.0021512, -0.25295, -0.3457, -0.2713, 0.12307, -0.054666, -0.1934,
                       0.13995],
                'another': [-0.062456, 0.026028, -0.2255, 0.51671, 0.40736, -0.191, -0.44522, -0.29851, -0.12369,
                            2.5912, -0.23444, 0.010956, 0.15749, -0.11009, -0.12841, 0.03175, 0.10765, 0.89842,
                            0.068255, -0.10318, -0.10946, -0.2091, -0.27722, 0.31081, 0.27054, -0.043961, 0.10616,
                            -0.22826, 0.21113, -0.0055078, -0.01572, 0.35313, 0.20096, 0.11528, 0.24064, -0.11713,
                            0.09591, -0.095592, 0.055852, -0.55681, 0.23695, 0.45757, -0.0079423, -0.13784, -0.13758,
                            -0.030526, -0.14727, -0.030658, -0.014943, 0.010903, -0.15627, 0.35449, 0.15134, 0.062264,
                            -0.012332, 0.090933, -0.074218, 0.27439, 0.15044, -0.14182, -0.055535, 0.13997, -0.14525,
                            0.15119, 0.33971, -0.20961, -0.054313, 0.13796, 0.0034979, 0.21642, 0.19335, 0.0057614,
                            0.014631, 0.056247, 0.051611, -0.0080588, 0.086297, -0.5001, -0.18347, 0.10126, -0.083133,
                            -0.1626, -0.36263, -0.21844, -0.02973, -0.024484, -0.074685, -0.30507, 0.18955, -0.0066357,
                            -0.32571, 0.3173, -0.040137, -0.19369, -0.25085, 0.19624, -0.075559, 0.050909, 0.25918,
                            0.28442, -0.14881, -0.15826, 0.041425, -0.094869, -0.15606, -0.84664, 0.18772, 0.25858,
                            -0.078767, 0.06775, 0.34155, -0.12043, -0.048256, 0.3345, -0.24107, 0.19968, -0.41763,
                            0.336, 0.10764, 0.27784, 0.088474, -0.167, 0.14136, -0.17721, -0.046948, -0.022184,
                            -0.54259, -0.15062, -0.085848, 0.40076, -0.40806, -0.088933, -0.09148, 0.020551, 0.0044985,
                            -0.26533, -0.04268, -0.1062, -0.060297, -0.32391, -1.7536, 0.24663, -0.064852, 0.11712,
                            -0.084616, -0.13179, -0.13295, -0.15042, 0.20083, -0.14336, -0.18508, 0.11087, -0.019362,
                            -0.0077068, 0.28478, -0.056992, -0.24824, 0.13416, -0.15356, 0.083439, -0.31464, 0.041892,
                            0.040548, -0.096517, -0.26659, -0.030416, 0.0369, 0.21391, 0.24738, 0.075945, 0.081593,
                            -0.017375, 0.19043, -0.090727, -0.20778, -0.12314, -0.083891, -0.14635, 0.058551, -0.11473,
                            0.12503, -0.23519, -0.060409, -0.20645, 0.0528, -0.30071, -0.11845, 0.15019, -0.13625,
                            -0.29447, 0.11891, -0.085506, -0.38175, 0.28459, 0.48054, 0.0076256, -0.14893, 0.098538,
                            0.0058806, -0.19944, -0.032097, -0.023845, -0.28306, -0.14922, 0.31072, 0.003422, 0.081716,
                            0.057105, 0.24626, 0.30529, -0.22833, -0.15938, -0.11019, -0.26284, -0.27988, 0.26593,
                            -0.037027, 0.25803, -0.091505, 0.17284, -0.018817, -0.18619, 0.037679, 0.3616, -0.054177,
                            -0.56121, 0.35793, 0.35489, -0.21867, -0.096178, 0.039005, 0.36988, -0.008155, 0.16555,
                            -0.019311, -0.53061, -0.04055, 0.25904, -0.21318, 0.32339, 0.012326, 0.12172, 0.19505,
                            0.3188, 0.27433, -0.31626, 0.38885, -0.069307, -0.0029695, -0.081057, 0.084998, -0.21472,
                            0.18707, 0.027852, 0.103, 0.15017, 0.16361, -0.15527, 0.01991, 0.076225, 0.26228, 0.22174,
                            0.26955, -0.14568, 0.086239, -0.13961, 0.20122, -0.082225, 0.25757, -0.28102, 0.65535,
                            0.12213, 0.026313, -0.44506, -0.14765, 0.12079, -0.14094, -0.17621, 0.27209, 0.29802,
                            0.24566, 0.0076429, -0.10992, -0.12989, -0.002202, -0.3256, -0.039513, -0.11442, 0.12873,
                            0.059697, -0.17127, 0.13239, -0.087679, -0.073059, -0.24171, -0.0084799, -0.03403, -0.19075,
                            -0.26296, 0.32319],
                'example': [-0.27133, 0.29021, -0.28931, 0.039804, 0.16272, 0.19126, -0.04597, 0.10454, -0.026058,
                            1.9868, -0.11734, 0.11393, 0.38048, 0.26484, 0.080414, 0.10944, 0.085207, 1.5634, -0.094569,
                            -0.44807, -0.26956, 0.076132, -0.051753, -0.021901, 0.17138, -0.0072113, 0.025512, -0.29028,
                            -0.1416, -0.0444, 0.17973, 0.10404, 0.29234, 0.12834, 0.45489, -0.16171, 0.12756, -0.24577,
                            -0.1734, -0.3074, -0.079454, 0.0094676, 0.051845, -0.086362, -0.37061, -0.08799, -0.14788,
                            -0.21072, 0.45981, -0.041739, -0.34044, 0.50967, 0.21548, 0.16833, 0.14761, -0.38305,
                            -0.063253, 0.056, -0.018988, -0.0074158, -0.2131, -0.029613, -0.18334, 0.44134, 0.11361,
                            -0.2189, -0.036158, 0.29966, -0.27259, 0.24635, -0.086159, -0.038252, 0.040445, 0.058947,
                            0.083741, 0.16349, 0.09744, -0.063711, 0.22879, 0.11947, -0.18651, -0.0018097, 0.21618,
                            -0.25082, 0.25884, -0.2963, -0.25223, -0.27311, -0.29421, -0.10579, -0.26673, 0.24737,
                            0.37628, -0.083512, 0.29862, -0.0687, 0.044568, 0.19565, 0.56328, 0.05956, -0.13142,
                            0.23212, 0.19256, 0.10343, 0.05414, -1.2211, -0.19092, 0.061422, -0.14201, 0.15483,
                            -0.038085, -0.16662, 0.022992, -0.014254, -0.39557, -0.079518, -0.21825, 0.067211, -0.25655,
                            0.39903, -0.13499, -0.26856, -0.11669, -0.21927, -0.12447, -0.23468, -0.059102, -0.32308,
                            0.25178, 0.036538, 0.10157, 0.17164, 0.14425, -0.20031, -0.071797, 0.16856, -0.011339,
                            -0.16942, 0.195, -0.2782, -0.77621, 0.25534, 0.092717, -0.029673, -0.2754, -0.2872, 0.11215,
                            -0.11852, 0.056826, -0.020242, 0.11241, 0.17332, -0.20022, 0.11881, -0.025556, -0.0066199,
                            -0.054162, 0.079476, -0.091519, -0.23943, -0.15636, -0.018778, -0.12737, 0.21497, -0.34387,
                            -0.23538, 0.016583, -0.025696, -0.012343, -0.25092, -0.10977, -0.0097102, 0.43908, -0.35855,
                            -0.08986, 0.047118, 0.01701, -0.055503, -0.084334, -0.19293, 0.027719, -0.119, -0.13854,
                            -0.2321, -0.23426, -0.061065, -0.22868, 0.2625, -0.44515, -0.10257, -0.14024, 0.10256,
                            -0.16186, -0.25941, 0.27732, -0.1432, -0.052023, -0.13976, -0.142, 0.096433, 0.20959,
                            -0.35522, 0.016119, 0.076181, 0.24555, -0.057035, -0.084746, -0.036724, 0.039255, 0.13475,
                            0.084359, -0.012455, -0.23363, -0.42956, -0.17858, 0.15229, -0.053926, 0.53088, -0.34563,
                            0.0064875, 0.27083, 0.080086, 0.096966, 0.46727, 0.18654, -0.0015415, 0.44761, 0.16576,
                            0.05605, 0.13835, -0.10328, 0.066276, 0.053075, 0.027021, -0.17483, -0.079292, 0.2151,
                            0.077337, 0.23566, 0.329, -0.15008, 0.12972, 0.12063, 0.033895, 0.32281, -0.26291, 0.37828,
                            -0.055199, -0.22372, -0.45622, 0.36176, 0.20237, 0.1655, -0.10545, 0.053606, -0.11892,
                            0.32977, -0.19062, 0.40809, 0.039608, 0.61026, 0.21982, 0.056783, 0.16334, -0.02186,
                            0.18278, 0.3438, -0.027555, 1.0657, 0.036415, 0.044761, -0.1257, 0.13905, -0.1918, -0.27047,
                            -0.0011485, -0.12547, 0.051156, 0.15911, 0.10625, 0.09354, 0.15271, 0.37021, -0.2335,
                            0.2124, -0.21931, 0.048947, -0.17545, 0.32482, -0.17253, -0.11832, 0.23536, -0.17557,
                            0.24014, -0.22163, 0.064266, -0.19916, -0.098321, 0.0058665, 0.28559],
                'longer': [0.0060463, -0.14094, -0.41896, -0.11, -0.18221, -0.36247, 0.00616, -0.064766, 0.29335,
                           2.4492, 0.11329, 0.042622, -0.080743, 0.019052, -0.13341, 0.05571, 0.11689, 1.3388, -0.23598,
                           0.16511, -0.34369, -0.021407, 0.053355, -0.15966, -0.26189, 0.27266, -0.047728, -0.31054,
                           0.36886, 0.06229, -0.4, 0.027593, -0.28429, -0.55274, 0.10047, 0.16805, 0.20931, 0.0076874,
                           0.058735, 0.08498, 0.0075255, 0.15328, 0.25041, 0.40634, 0.16147, 0.029729, -0.051024,
                           -0.1371, -0.07884, 0.23858, -0.0058336, -0.21463, 0.1365, -0.35647, 0.15211, 0.29065,
                           0.21893, -0.41636, 0.42985, -0.18014, -0.30026, -0.25611, 0.23159, 0.13295, 0.41231,
                           -0.033411, -0.16843, 0.10305, 0.12814, 0.056344, 0.2838, -0.058504, 0.21273, 0.19953,
                           -0.10625, 0.24327, 0.35749, 0.27473, 0.23768, 0.21708, 0.075293, -0.15011, -0.59138, 0.12975,
                           -0.17586, -0.23536, 0.27176, -0.0014447, 0.78007, -0.19668, 0.038553, 0.15939, -0.089071,
                           -0.060258, -0.1057, 0.008502, 0.25013, 0.072254, 0.28158, -0.39374, 0.29267, 0.052049,
                           -0.067393, 0.23731, 0.34129, -1.2899, -0.026394, -0.20092, 0.056274, 0.079006, 0.26537,
                           0.0036539, 0.066219, 0.18349, 0.011502, -0.34733, -0.00072123, -0.22059, -0.31617, 0.082217,
                           -0.099318, 0.019449, 0.53074, 0.12157, 0.075239, -0.065978, -0.087077, -0.34103, -0.26667,
                           0.16173, 0.038035, 0.0076236, -0.078248, 0.12302, 0.10361, -0.17857, -0.21487, 0.3058,
                           -0.4482, -0.035497, -1.0975, 0.089346, 0.19229, -0.025874, 0.2128, -0.33841, 0.28326,
                           0.16946, -0.045403, 0.13986, 0.27978, 0.049106, 0.081441, 0.12674, -0.35727, -0.33003,
                           -0.16385, -0.18911, 0.002825, 0.11437, -0.22342, -0.14069, 0.079716, 0.0859, -0.09409,
                           0.11282, 0.20802, -0.13742, -0.075409, -0.63599, 0.28608, 0.021421, 0.24134, -0.20877,
                           -0.11211, 0.47323, 0.35743, -0.15289, -0.080897, 0.10733, 0.15098, -0.29523, -0.38232,
                           0.11312, 0.0037512, 0.24746, -0.15552, -0.34524, 0.042484, 0.33992, -0.1411, 0.43291,
                           -0.21331, 0.20057, 0.4272, 0.035074, 0.055262, -0.0017462, -0.20595, 0.52535, -0.10853,
                           0.16988, -0.29635, 0.034119, 0.19244, 0.26543, -0.11684, -0.59076, 0.1679, 0.08447, 0.072543,
                           -0.38647, 0.19033, -0.33258, 0.5867, -0.1257, 0.20558, 0.1052, -0.13145, -0.11854, 0.037497,
                           -0.12547, -0.0083384, -0.022181, 0.060946, 0.21351, 0.051143, -0.23083, -0.064045, 0.29093,
                           0.20649, -0.11184, 0.65157, 0.34804, 0.43341, 0.083935, 0.13885, -0.44446, -0.28673, 0.32207,
                           -0.0017423, 0.088422, -0.33478, 0.28984, -0.068927, -0.13039, -0.39372, 0.14648, -0.21118,
                           0.31324, -0.10043, -0.31078, -0.10002, 0.056473, -0.022278, 0.52213, -0.091728, -0.087521,
                           0.29736, 0.18836, 0.33858, 0.10104, -0.12346, 0.181, -0.0049323, 0.3286, 0.20457, 0.4267,
                           0.19916, 0.25293, 0.61981, -0.26007, -0.028507, -0.25824, 0.096693, 0.10403, 0.0046932,
                           0.32219, 0.099803, 0.12783, 0.17749, 0.17286, 0.25489, -0.39991, 0.076121, -0.052123,
                           -0.18942, -0.38407, 0.28966, 0.066935, -0.44073, -0.0814, -0.1272, -0.15565, 0.1499,
                           -0.054733, -0.40631, -0.18156, -0.051354, -0.037897],
                'slightly': [-0.13578, -0.015437, -0.29813, 0.31174, 0.11261, -0.22531, -0.29769, -0.057418, -0.064226,
                             1.7825, 0.11772, 0.065521, -0.046656, -0.45165, 0.39153, -0.17815, -0.0065823, 1.1608,
                             -0.26808, -0.61023, -0.46016, -0.22087, 0.21551, -0.37344, -0.070197, -0.21055, -0.12705,
                             -0.16105, -0.05324, -0.63813, -0.66445, 0.011556, -0.18664, -0.44901, 0.14165, 0.10435,
                             -0.48392, 0.17602, 0.028306, -0.34555, 0.50274, -0.11847, 0.29932, -0.12105, 0.458,
                             0.057433, 0.1111, -0.70444, -0.12947, 0.20517, -0.095823, -0.1096, -0.067916, -0.0022589,
                             -0.26006, -0.095029, -0.11955, -0.36522, 0.12589, -0.28253, 0.017164, -0.30313, -0.036977,
                             0.43025, -0.50941, -0.2852, -0.30374, -0.17318, 0.083151, 0.24293, 0.3363, 0.32233,
                             0.29721, 0.08287, 0.046455, 0.37327, 0.10057, -0.054988, -0.057808, 0.085972, -0.2026,
                             0.19882, 0.25854, 0.15324, 0.22771, -0.48159, 0.76525, 0.42551, 0.40199, -0.090438,
                             -0.040837, -0.034888, 0.052013, 0.042042, -0.17037, 0.027781, 0.39757, 0.13428, 0.17922,
                             -0.22305, -0.0029654, 0.0049084, -0.44688, 0.10013, 0.043456, -1.5097, 0.20162, -0.25766,
                             0.26681, 0.37038, -0.14018, -0.53391, -0.15416, 0.12824, -0.24439, -0.11967, -0.078898,
                             -0.57055, 0.24479, 0.097051, 0.36275, 0.38796, -0.21319, 0.11642, -0.17917, 0.13558,
                             0.19099, -0.24371, -0.4029, -0.13973, -0.41218, 0.069301, -0.40376, 0.60597, 0.055491,
                             -0.24976, -0.52533, -0.0066049, -0.42304, -0.18952, -1.4285, 0.69922, -0.54105, -0.045414,
                             -0.20143, -0.18887, -0.072955, 0.065863, 0.17376, 0.24891, 0.28336, 0.33065, 0.55221,
                             0.40613, -0.052149, -0.41757, -0.46813, 0.25056, 0.13929, -0.67934, 0.20582, 0.012332,
                             0.1304, -0.2074, -0.57486, -0.39113, -0.27706, 0.034341, -0.28643, -0.41436, 0.51928,
                             0.33527, -0.16996, -0.55071, -0.25249, -0.54709, 0.22032, -0.49301, 0.20442, -0.055075,
                             -0.028328, -0.33228, -0.42088, -0.218, 0.24104, 0.27939, 0.13429, 0.056078, 0.0054317,
                             0.067209, 0.29672, 0.12486, -0.011942, 0.13356, -0.29183, -0.30594, 0.11306, -0.012825,
                             -0.73793, -0.088011, 0.20861, 0.057562, -0.82082, -0.041773, -0.27118, 0.34632, -0.30374,
                             -0.3808, -0.33469, 0.31318, -0.24506, -0.51509, 0.1969, -1.0998, 0.14109, 0.79317,
                             -0.082174, 0.35668, 0.25393, 0.13468, 0.41058, 0.35796, -0.20007, -0.086841, 0.2352,
                             -0.38443, -0.031103, -0.18507, 0.25355, 0.20427, -0.12631, 0.12362, 0.42025, 0.59486,
                             0.53392, -0.1126, -0.22247, -0.0099231, 0.40566, -0.017426, -0.20321, 0.063982, -0.4487,
                             0.057411, -0.12595, -0.11368, -0.018306, -0.45425, 0.11411, 0.093492, -0.3284, -0.54131,
                             0.052666, -0.06482, -0.08316, 0.51723, 0.53702, 0.09414, 0.099459, 0.6616, -0.14437,
                             0.26061, 0.16854, -0.11226, 0.24995, -0.18931, -0.15458, -0.16366, -0.29264, 0.094378,
                             0.41457, -0.059553, 0.057731, -0.80444, -0.4902, 0.057404, 0.21316, -0.45315, -0.29406,
                             0.66553, 0.63104, 0.29456, 0.53123, -0.10875, -0.049004, 0.029514, -0.33764, -0.1299,
                             0.070057, 0.010933, -0.48752, -0.001288, 0.37055, -0.058936, -0.12705, 0.24701, -0.13751,
                             -0.26334, 0.34859, -0.027377],
                'sentence': [-0.23011, 0.24952, -0.40514, 0.10115, -0.083443, -0.13674, 0.1143, 0.026823, 0.19863,
                             2.456, 0.14029, 0.58672, -0.073874, 0.28157, -0.52304, -0.048468, 0.093938, 0.32116,
                             0.16802, -0.34201, -0.17691, -0.33228, 0.55155, 0.39018, 0.058627, -0.34466, 0.28707,
                             -0.4018, 0.56514, -0.18354, -0.49021, 0.29733, 0.016541, -0.20908, -0.0041405, 0.015026,
                             0.41316, -0.51856, -0.76071, 0.01541, 0.33912, -0.46425, 0.5158, -0.66322, 0.34102,
                             -0.56523, -0.26071, 0.28103, 0.20327, 0.43297, -0.4651, 0.45241, 0.37734, 0.27927,
                             -0.091755, 0.27468, 0.087426, -0.12578, -0.18227, -0.031709, -0.17394, 0.0045712, 0.023133,
                             0.1135, -0.20091, 0.10224, -0.89016, 0.20097, 0.10257, 0.29031, -0.02794, -0.41125,
                             -0.046933, -0.5275, -0.49433, -0.49615, -0.14444, -0.14234, -0.51696, 0.17736, -0.072752,
                             -0.0079489, -0.19211, -0.085146, 0.31739, 0.37882, 0.50217, -1.0486, 0.44074, 0.18474,
                             -0.062998, -0.19958, -0.29449, -0.34163, -0.29476, 0.26173, 0.049451, -0.12378, 0.96769,
                             -0.53726, 0.37449, -0.15882, 0.16762, 0.021155, 0.61045, -1.3179, 0.45358, -0.37487,
                             0.073643, 0.43563, -0.40658, 0.42887, -0.32288, 0.31553, -0.64288, -0.062625, -0.50419,
                             0.098885, -0.30891, 0.023959, 0.10133, -0.1246, -0.18435, 0.019828, 0.029454, 0.39435,
                             -0.78615, -0.43054, -0.12009, 0.59659, 0.36378, 0.15062, 0.4446, -0.1399, 0.42361,
                             0.058387, -0.20949, 0.50768, -0.18559, 0.18419, -0.96421, 0.075973, -0.3153, 0.099525,
                             -0.14277, 0.036323, -0.25138, -0.22869, 0.20538, 0.042887, 0.37372, -0.064115, -0.3122,
                             0.080941, 0.16706, -0.55374, 0.0020445, -0.9612, 0.74384, -0.069087, -0.19262, -0.16672,
                             0.11709, -0.12768, -0.92946, 0.064942, -0.1176, 0.032158, -0.13616, 0.46095, 0.38484,
                             -0.68723, 0.34775, -0.38016, 0.091489, -0.16154, 0.37279, -0.12789, -0.16033, 0.0025466,
                             -0.19352, -0.054166, -0.15693, 0.42264, -0.069152, 0.583, -0.41464, -0.30914, 0.03131,
                             -0.27111, -0.15811, 0.14949, -0.019182, 0.14749, 0.36136, 0.3419, -0.22195, -0.42567,
                             -0.050665, -0.61528, 0.040056, -0.27915, -0.53579, 0.47023, -0.0077651, -0.30976, 0.48769,
                             0.0743, 0.038047, 0.49425, 0.38518, -0.11991, 0.6427, -0.33102, 1.1751, -0.047139,
                             -0.17734, 0.22593, -0.36177, 0.3624, 0.010977, -0.38764, -0.20906, 0.46608, 0.030885,
                             -0.24904, 0.18444, -0.11375, 0.076224, -0.17295, -0.29879, 0.3258, -0.49871, 0.42033,
                             -0.81678, -0.12322, 0.089197, 0.71719, -0.16142, 0.2255, 0.19808, -0.13247, 0.33103,
                             -0.2712, 0.42531, 0.17783, 0.64378, -0.31058, -0.10103, 0.055541, -0.52145, 0.18784,
                             0.34145, 0.38763, -0.4318, 0.82679, -0.041449, 0.11741, 0.5854, -0.17236, -0.076239,
                             -0.086669, -0.24001, 0.31655, -0.37673, 0.14527, -0.10356, 0.39012, 0.82102, -0.85233,
                             -0.094078, -0.64978, -0.023756, 0.57573, -0.17361, -0.41067, 0.19587, -0.17598, 0.35987,
                             0.090573, 0.59412, 0.18504, 0.24189, -0.91302, -0.36574, -0.48269, -0.2207, 0.34091,
                             0.18082, -0.10889, 0.14226, -0.092939, -0.39441, 0.29094, -0.43155, -0.22065, -0.1968,
                             0.049255, -0.22886, -0.23064]
            },
            'test_sentences': [['this', 'is', 'an', 'example', 'sentence'],
                               ['this', 'is', 'another', 'sentence', 'that', 'is', 'slightly', 'longer']],
            'expected_embeddings_multi_sentence': [
                [-0.02397412, 0.04764011, 0.01670638, -0.01021727, -0.00139526, 0.05780546, 0.02932482, 0.02521947,
                 -0.00411831, -0.0497154, -0.01200984, 0.02978773, 0.02579444, 0.0648637, -0.01721727, 0.0088077,
                 -0.00324565, -0.00423109, 0.02092886, -0.0288103, 0.01772368, 0.00952553, 0.01083998, 0.03672469,
                 0.02482178, -0.01848137, 0.01709322, -0.0010324, -0.01724248, 0.02142519, 0.06448491, 0.01068625,
                 0.04189265, 0.06044579, 0.01613084, -0.03517724, 0.04446857, -0.0635548, -0.04702112, 0.001705,
                 -0.02767853, -0.03828304, -0.00997419, -0.05627686, -0.0539105, -0.03421345, -0.0210843, 0.04780176,
                 0.06440688, -0.00873629, -0.03890336, 0.06306987, 0.02305344, 0.04054183, 0.01818783, -0.0345772,
                 -0.00531466, 0.03098978, -0.04894507, 0.03326195, -0.01061555, 0.02434095, -0.01672525, 0.0040396,
                 -0.00448458, 0.01285247, -0.00156122, 0.02135667, -0.03233538, 0.01347072, -0.05490188, -0.03487819,
                 -0.03027378, -0.04119349, -0.00896852, -0.03933423, -0.02704299, -0.00429622, -0.02346152, 0.00888304,
                 -0.00354414, 0.00760578, 0.04981251, -0.02358116, 0.03376623, 0.01988129, -0.07750311, -0.0709963,
                 -0.0784511, 0.00536404, -0.01925919, 0.0023234, 0.03074004, -0.01451074, 0.03479985, -0.00774034,
                 -0.03741347, -0.00688559, 0.05018663, 0.00101526, -0.00564326, 0.01540205, 0.04906143, -0.00589139,
                 0.01474348, 0.02690827, -0.01000106, 0.0124001, -0.00618215, -0.00725431, -0.03602911, 0.03239946,
                 -0.00907028, -0.01932247, -0.041015, 0.01387819, -0.02661746, 0.04625961, -0.04062361, 0.01270894,
                 -0.03347692, -0.04456665, -0.03631964, -0.03221343, -0.00432169, -0.00850245, -0.03075047, -0.0031582,
                 0.04801058, 0.00288624, 0.06411366, 0.0109198, 0.05213902, -0.0720126, 0.00721216, 0.04768287,
                 0.03043668, -0.00372493, 0.06479574, -0.00540652, 0.10834632, -0.03096399, 0.01912011, -0.00022152,
                 -0.02831285, 0.00300934, -0.00053281, -0.03228008, 0.00606722, -0.02003068, 0.0066131, -0.00491478,
                 -0.06299774, -0.02241882, 0.02976715, 0.02736801, 0.04228382, -0.04528012, 0.01535454, 0.00017419,
                 -0.01380954, -0.00694555, -0.01600868, 0.02148104, -0.02001686, -0.00148547, 0.00491472, -0.00781709,
                 0.00647158, 0.05617205, -0.04927928, -0.04311772, 0.0497606, 0.00574265, 0.02757854, 0.00563987,
                 -0.01370634, 0.03116857, -0.03357597, -0.01317391, -0.02731744, 0.04118566, 0.02867129, 0.00178926,
                 -0.04587599, -0.00793344, -0.03861587, 0.02533809, -0.03294319, -0.03751818, -0.04328352, -0.00535835,
                 0.00315924, -0.03479316, 0.01709226, 0.02785528, -0.02167485, -0.03829494, 0.03783312, -0.02796242,
                 0.01485888, -0.05228103, 0.054726, 0.04175459, 0.02439816, -0.05613881, 0.03774838, 0.05808393,
                 0.01082532, -0.00077917, 0.03319936, 0.05905247, -0.00476314, 0.03556807, -0.01065794, -0.02491585,
                 -0.01398839, 0.03019218, -0.04512673, 0.00999796, -0.00125729, -0.01603569, 0.00713493, 0.05037378,
                 -0.00792674, 0.01112678, 0.02646765, 0.02998835, 0.00908352, -0.02578241, -0.0286508, 0.00106392,
                 -0.07045113, -0.03883218, -0.10457476, 0.0099952, 0.03757472, 0.04962217, 0.00892553, 0.01866166,
                 0.00954436, -0.0027969, 0.06868278, -0.03136182, 0.05604732, 0.01086756, 0.07029734, 0.01815527,
                 -0.01494502, -0.06091344, 0.02665535, 0.08528604, 0.02754015, 0.00956602, -0.01159319, -0.04141837,
                 0.00177178, -0.0125265, 0.03215333, -0.04991344, 0.02008942, -0.01068587, -0.00924204, 0.01670693,
                 -0.03486959, 0.01340672, 0.0127377, -0.00676026, 0.12638611, -0.03945344, -0.07480161, -0.02235661,
                 0.00283693, 0.09050225, -0.00781764, -0.02238343, -0.01584556, 0.01317705, 0.03509691, -0.04596314,
                 -0.01946875, -0.00109155, 0.00246961, -0.02319282, 0.00150569, -0.03807358, 0.02718248, 0.03425634,
                 0.0144432, -0.02497074, 0.06007709, 0.01964205, -0.04113437, 0.04273904, -0.03152172, -0.02252872,
                 0.01082307, 0.0287284, -0.02245046, 0.00960976],
                [0.02285905, -0.04542429, -0.01592934, 0.00974205, 0.00133036, -0.05511684, -0.02796087, -0.02404647,
                 0.00392676, 0.04740306, 0.01145124, -0.02840225, -0.0245947, -0.06184679, 0.01641646, -0.00839804,
                 0.00309469, 0.00403429, -0.01995543, 0.02747028, -0.01689932, -0.00908248, -0.0103358, -0.03501657,
                 -0.02366728, 0.01762177, -0.01629818, 0.00098438, 0.0164405, -0.02042867, -0.06148561, -0.01018921,
                 -0.03994416, -0.05763436, -0.01538057, 0.03354108, -0.04240026, 0.06059877, 0.04483409, -0.00162569,
                 0.02639116, 0.03650243, 0.00951027, 0.05365933, 0.05140303, 0.03262213, 0.02010363, -0.04557842,
                 -0.06141121, 0.00832995, 0.03709391, -0.06013639, -0.02198118, -0.03865617, -0.01734188, 0.03296895,
                 0.00506746, -0.02954839, 0.04666855, -0.03171489, 0.0101218, -0.02320882, 0.01594733, -0.00385171,
                 0.00427599, -0.01225468, 0.00148861, -0.02036334, 0.03083141, -0.01284418, 0.0523483, 0.03325595,
                 0.0288657, 0.03927751, 0.00855138, 0.03750473, 0.02578518, 0.00409639, 0.02237029, -0.00846988,
                 0.00337929, -0.00725203, -0.04749565, 0.02248436, -0.03219571, -0.01895658, 0.07389832, 0.06769415,
                 0.07480221, -0.00511455, 0.01836341, -0.00221533, -0.02931027, 0.01383582, -0.03318125, 0.00738033,
                 0.03567331, 0.00656533, -0.04785237, -0.00096804, 0.00538078, -0.01468567, -0.04677951, 0.00561737,
                 -0.01405774, -0.02565673, 0.00953589, -0.01182335, 0.0058946, 0.0069169, 0.03435334, -0.03089251,
                 0.00864841, 0.01842375, 0.03910733, -0.0132327, 0.02537944, -0.044108, 0.03873414, -0.01211782,
                 0.03191985, 0.04249378, 0.03463035, 0.03071513, 0.00412068, 0.00810699, 0.02932021, 0.00301131,
                 -0.04577753, -0.002752, -0.06113163, -0.0104119, -0.04971395, 0.06866318, -0.00687671, -0.04546506,
                 -0.02902102, 0.00355167, -0.06178199, 0.00515506, -0.10330696, 0.02952381, -0.0182308, 0.00021122,
                 0.02699597, -0.00286937, 0.00050803, 0.03077868, -0.00578502, 0.01909902, -0.00630552, 0.00468618,
                 0.06006761, 0.02137609, -0.02838263, -0.02609508, -0.04031713, 0.04317406, -0.01464038, -0.00016608,
                 0.01316724, 0.0066225, 0.01526409, -0.02048192, 0.01908585, 0.00141638, -0.00468612, 0.00745351,
                 -0.00617058, -0.0535594, 0.04698722, 0.04111225, -0.04744615, -0.00547555, -0.02629582, -0.00537755,
                 0.01306884, -0.02971887, 0.0320143, 0.01256117, 0.02604686, -0.03927004, -0.02733774, -0.00170604,
                 0.04374222, 0.00756444, 0.03681978, -0.02415957, 0.03141095, 0.03577315, 0.04127033, 0.00510913,
                 -0.0030123, 0.03317487, -0.01629728, -0.02655969, 0.02066672, 0.03651378, -0.03607344, 0.02666184,
                 -0.01416777, 0.04984935, -0.0521806, -0.03981251, -0.02326336, 0.0535277, -0.03599264, -0.05538235,
                 -0.01032182, 0.00074293, -0.03165521, -0.05630584, 0.0045416, -0.03391374, 0.01016223, 0.02375698,
                 0.01333777, -0.02878789, 0.04302781, -0.00953293, 0.00119881, 0.01528985, -0.00680307, -0.04803081,
                 0.00755806, -0.01060925, -0.0252366, -0.02859354, -0.00866103, 0.02458323, 0.0273182, -0.00101443,
                 0.06717434, 0.03702603, 0.09971082, -0.00953031, -0.03582706, -0.04731417, -0.00851039, -0.01779368,
                 -0.00910044, 0.00266681, -0.06548823, 0.02990313, -0.05344047, -0.01036209, -0.06702769, -0.01731083,
                 0.0142499, 0.05808026, -0.02541556, -0.08131925, -0.02625921, -0.00912109, 0.01105397, 0.03949194,
                 -0.00168937, 0.01194387, -0.03065782, 0.04759188, -0.01915502, 0.01018885, 0.00881217, -0.01592986,
                 0.03324774, -0.01278315, -0.01214525, 0.00644583, -0.12050769, 0.0376184, 0.07132247, 0.02131677,
                 -0.00270498, -0.08629284, 0.00745403, 0.02134234, 0.01510856, -0.01256417, -0.03346449, 0.04382532,
                 0.01856323, 0.00104078, -0.00235474, 0.02211409, -0.00143566, 0.03630271, -0.02591818, -0.03266303,
                 -0.01377143, 0.02380931, -0.05728281, -0.01872847, 0.03922114, -0.04075117, 0.03005559, 0.02148088,
                 -0.01031967, -0.02739219, 0.02140625, -0.00916279]
            ],
            'expected_embeddings_single_sentence': [
                [8.32667268e-17, -2.77555756e-17, 2.77555756e-17, -2.08166817e-17, -3.46944695e-18, -1.73472348e-18,
                 1.73472348e-18, 1.73472348e-18, -6.93889390e-18, -4.44089210e-16, 3.46944695e-18, -2.77555756e-17,
                 -1.38777878e-17, -4.16333634e-17, 1.38777878e-17, 3.46944695e-18, -6.93889390e-18, -1.11022302e-16,
                 4.33680869e-19, 5.55111512e-17, 2.77555756e-17, 1.38777878e-17, -1.38777878e-17, -4.16333634e-17,
                 -6.93889390e-18, 2.08166817e-17, -2.08166817e-17, 2.77555756e-17, -1.38777878e-17, 1.38777878e-17,
                 2.08166817e-17, -2.77555756e-17, -1.38777878e-17, 3.46944695e-18, -2.77555756e-17, 1.38777878e-17,
                 -2.77555756e-17, 2.77555756e-17, 5.55111512e-17, 2.77555756e-17, -1.38777878e-17, 1.38777878e-17,
                 -2.77555756e-17, 2.77555756e-17, 1.30104261e-18, 4.16333634e-17, 1.38777878e-17, -3.46944695e-18,
                 -2.77555756e-17, -2.77555756e-17, 2.77555756e-17, -2.77555756e-17, -2.77555756e-17, -2.77555756e-17,
                 -6.93889390e-18, 4.33680869e-19, -3.46944695e-18, 6.93889390e-18, 1.04083409e-17, 3.46944695e-18,
                 2.77555756e-17, 2.60208521e-18, 6.93889390e-18, -4.16333634e-17, 1.73472348e-18, 1.38777878e-17,
                 5.55111512e-17, -2.77555756e-17, 1.04083409e-17, -4.16333634e-17, 6.93889390e-18, 1.38777878e-17,
                 -3.46944695e-18, 2.77555756e-17, 1.38777878e-17, 2.77555756e-17, 3.46944695e-18, 1.38777878e-17,
                 2.77555756e-17, -2.77555756e-17, 1.38777878e-17, -1.73472348e-18, 1.73472348e-18, 6.93889390e-18,
                 -4.16333634e-17, 6.93889390e-18, -1.30104261e-18, 5.55111512e-17, -1.38777878e-17, 1.73472348e-18,
                 1.38777878e-17, -1.38777878e-17, -1.73472348e-18, 2.77555756e-17, 3.46944695e-18, -1.38777878e-17,
                 1.73472348e-18, 2.60208521e-18, -1.11022302e-16, 1.38777878e-17, -1.38777878e-17, -4.33680869e-19,
                 -6.93889390e-18, -6.93889390e-18, -2.77555756e-17, 1.11022302e-16, -1.38777878e-17, 6.93889390e-18,
                 -3.46944695e-18, -2.77555756e-17, 2.77555756e-17, -6.93889390e-18, 1.38777878e-17, -1.38777878e-17,
                 5.55111512e-17, 8.67361738e-19, 5.55111512e-17, -1.38777878e-17, 2.77555756e-17, -1.38777878e-17,
                 6.93889390e-18, 1.38777878e-17, 6.93889390e-18, 1.38777878e-17, 6.93889390e-18, -6.93889390e-18,
                 5.55111512e-17, 5.55111512e-17, -8.67361738e-19, -2.77555756e-17, -2.77555756e-17, -6.93889390e-18,
                 -4.16333634e-17, 1.38777878e-17, -2.77555756e-17, -6.93889390e-18, 1.38777878e-17, -1.38777878e-17,
                 -3.46944695e-18, 6.93889390e-18, 1.11022302e-16, -2.77555756e-17, 1.04083409e-17, -6.93889390e-18,
                 2.77555756e-17, 1.38777878e-17, 6.93889390e-18, 2.77555756e-17, -1.38777878e-17, 1.73472348e-18,
                 -2.77555756e-17, -6.93889390e-18, 1.38777878e-17, -6.93889390e-18, -1.38777878e-17, 2.77555756e-17,
                 1.38777878e-17, 5.55111512e-17, -2.77555756e-17, 1.38777878e-17, 1.38777878e-17, 6.93889390e-18,
                 -1.73472348e-18, -1.73472348e-18, 5.55111512e-17, 1.38777878e-17, 8.67361738e-19, 1.73472348e-18,
                 3.46944695e-18, -1.38777878e-17, -1.38777878e-17, 2.77555756e-17, -5.55111512e-17, 2.77555756e-17,
                 3.46944695e-18, 6.93889390e-18, -2.77555756e-17, 1.38777878e-17, 2.08166817e-17, 5.20417043e-18,
                 1.38777878e-17, 3.46944695e-18, 2.08166817e-17, -1.73472348e-18, 1.38777878e-17, -1.38777878e-17,
                 2.77555756e-17, 8.67361738e-19, 2.77555756e-17, 1.38777878e-17, 1.38777878e-17, -1.38777878e-17,
                 2.77555756e-17, -1.38777878e-17, -5.55111512e-17, -1.38777878e-17, 2.08166817e-17, 2.77555756e-17,
                 6.93889390e-18, 2.77555756e-17, -6.93889390e-18, 4.16333634e-17, 5.55111512e-17, -2.77555756e-17,
                 -2.77555756e-17, 2.77555756e-17, -2.77555756e-17, -6.93889390e-18, -1.38777878e-17, -2.77555756e-17,
                 -1.38777878e-17, 3.46944695e-18, -2.77555756e-17, 2.77555756e-17, -5.55111512e-17, -1.38777878e-17,
                 1.38777878e-17, -5.55111512e-17, 2.77555756e-17, -2.77555756e-17, -1.38777878e-17, 2.77555756e-17,
                 6.93889390e-18, -5.55111512e-17, -3.46944695e-18, 2.77555756e-17, -1.38777878e-17, -1.38777878e-17,
                 -6.93889390e-18, 3.46944695e-18, 2.77555756e-17, -1.38777878e-17, 2.77555756e-17, -2.77555756e-17,
                 5.55111512e-17, 1.38777878e-17, -2.77555756e-17, -2.77555756e-17, 6.93889390e-18, -5.55111512e-17,
                 -1.04083409e-17, -3.46944695e-18, -1.38777878e-17, 3.46944695e-18, -5.55111512e-17, 6.93889390e-18,
                 -5.55111512e-17, 1.38777878e-17, 1.38777878e-17, 2.77555756e-17, 6.93889390e-18, -1.38777878e-17,
                 -2.77555756e-17, -2.08166817e-17, 2.77555756e-17, -5.55111512e-17, -4.16333634e-17, 6.93889390e-18,
                 -5.55111512e-17, 3.46944695e-18, -2.77555756e-17, -1.38777878e-17, 6.93889390e-18, -2.08166817e-17,
                 1.38777878e-17, -1.38777878e-17, -6.93889390e-18, -1.38777878e-17, -1.11022302e-16, 5.55111512e-17,
                 -6.93889390e-18, 5.55111512e-17, 1.73472348e-18, -1.38777878e-17, 1.38777878e-17, 2.08166817e-17,
                 -1.73472348e-18, 3.46944695e-18, -2.77555756e-17, -6.93889390e-18, -5.55111512e-17, -1.38777878e-17,
                 -2.77555756e-17, 8.32667268e-17, 6.93889390e-18, 2.77555756e-17, 6.93889390e-18, -1.38777878e-17,
                 -4.16333634e-17, 2.08166817e-17, -2.60208521e-18, -1.38777878e-17, 1.38777878e-17, -2.77555756e-17,
                 2.77555756e-17, 6.93889390e-18, 1.38777878e-17, 3.46944695e-18, 1.38777878e-17, -6.93889390e-18],
                [3.46944695e-16, 6.93889390e-18, -2.77555756e-17, 0.00000000e+00, 0.00000000e+00, -1.38777878e-17,
                 -1.38777878e-17, 0.00000000e+00, 0.00000000e+00, 2.22044605e-16, 0.00000000e+00, 0.00000000e+00,
                 0.00000000e+00, -3.46944695e-18, -6.93889390e-18, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 1.73472348e-18,
                 -1.73472348e-18, -3.46944695e-18, 0.00000000e+00, 0.00000000e+00, 1.38777878e-17, 0.00000000e+00,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 6.93889390e-18, 3.46944695e-18,
                 0.00000000e+00, 0.00000000e+00, -1.38777878e-17, -1.38777878e-17, 0.00000000e+00, 1.73472348e-18,
                 0.00000000e+00, -1.38777878e-17, 1.38777878e-17, 0.00000000e+00, -6.93889390e-18, -1.38777878e-17,
                 0.00000000e+00, 0.00000000e+00, -1.38777878e-17, 1.38777878e-17, 6.93889390e-18, 0.00000000e+00,
                 -8.67361738e-19, 1.38777878e-17, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
                 -1.38777878e-17, -6.93889390e-18, 1.08420217e-19, 1.38777878e-17, 1.08420217e-19, 0.00000000e+00,
                 -2.77555756e-17, 0.00000000e+00, 6.93889390e-18, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 6.93889390e-18, -6.93889390e-18,
                 -1.38777878e-17, 0.00000000e+00, -3.46944695e-18, 0.00000000e+00, -1.38777878e-17, 0.00000000e+00,
                 6.93889390e-18, 0.00000000e+00, 2.77555756e-17, -2.77555756e-17, 0.00000000e+00, 0.00000000e+00,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, -6.93889390e-18, -1.38777878e-17, 0.00000000e+00,
                 6.93889390e-18, 8.67361738e-19, 2.77555756e-17, -1.38777878e-17, 0.00000000e+00, -3.46944695e-18,
                 -6.93889390e-18, 0.00000000e+00, 1.38777878e-17, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
                 3.46944695e-18, -1.38777878e-17, 0.00000000e+00, -3.46944695e-18, 0.00000000e+00, 1.38777878e-17,
                 -2.77555756e-17, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, -3.46944695e-18, 6.93889390e-18,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 8.67361738e-19, 0.00000000e+00, 0.00000000e+00,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 8.67361738e-19,
                 -1.73472348e-18, 1.38777878e-17, 1.38777878e-17, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, -2.77555756e-17, -1.38777878e-17, 0.00000000e+00,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 3.46944695e-18, 0.00000000e+00, 0.00000000e+00,
                 1.38777878e-17, 0.00000000e+00, 6.93889390e-18, 0.00000000e+00, 0.00000000e+00, -2.77555756e-17,
                 0.00000000e+00, 0.00000000e+00, 1.38777878e-17, -1.38777878e-17, 0.00000000e+00, 0.00000000e+00,
                 0.00000000e+00, 0.00000000e+00, -2.77555756e-17, -6.93889390e-18, 0.00000000e+00, 0.00000000e+00,
                 0.00000000e+00, -1.38777878e-17, 2.77555756e-17, -6.93889390e-18, 1.38777878e-17, 0.00000000e+00,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 1.73472348e-18,
                 0.00000000e+00, 0.00000000e+00, -1.38777878e-17, 0.00000000e+00, 0.00000000e+00, 1.38777878e-17,
                 0.00000000e+00, 0.00000000e+00, -8.67361738e-19, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
                 -1.38777878e-17, 1.38777878e-17, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
                 -1.38777878e-17, 0.00000000e+00, 1.08420217e-19, 0.00000000e+00, -2.77555756e-17, 0.00000000e+00,
                 0.00000000e+00, 0.00000000e+00, 1.73472348e-18, -1.38777878e-17, 0.00000000e+00, 0.00000000e+00,
                 0.00000000e+00, -2.77555756e-17, 1.38777878e-17, 0.00000000e+00, 0.00000000e+00, 1.38777878e-17,
                 -1.73472348e-18, 0.00000000e+00, 0.00000000e+00, 6.93889390e-18, 6.93889390e-18, 0.00000000e+00,
                 -6.93889390e-18, 1.38777878e-17, 6.93889390e-18, -1.38777878e-17, 6.93889390e-18, 0.00000000e+00,
                 1.73472348e-18, 3.46944695e-18, -6.93889390e-18, 0.00000000e+00, 0.00000000e+00, 2.77555756e-17,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, -6.93889390e-18, 1.38777878e-17,
                 0.00000000e+00, 1.73472348e-18, 0.00000000e+00, 6.93889390e-18, 0.00000000e+00, 0.00000000e+00,
                 6.93889390e-18, 0.00000000e+00, 0.00000000e+00, 6.93889390e-18, -1.38777878e-17, -1.38777878e-17,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 1.38777878e-17, -8.67361738e-19,
                 0.00000000e+00, 1.38777878e-17, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
                 0.00000000e+00, 3.46944695e-18, 1.73472348e-18, 0.00000000e+00, 2.77555756e-17, 0.00000000e+00,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, -1.38777878e-17, -3.46944695e-18,
                 6.93889390e-18, -6.93889390e-18, 6.93889390e-18, 0.00000000e+00, 2.77555756e-17, 1.38777878e-17,
                 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, -1.38777878e-17, -3.46944695e-18,
                 1.38777878e-17, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
                 -6.93889390e-18, -1.73472348e-18, -1.38777878e-17, 0.00000000e+00, 0.00000000e+00, 0.00000000e+00]
            ]
        }

    def test_term_frequencies_should_sum_up_to_1(self):
        tf_dict = EvaluateRestEncoder.tf_dictionary(self.samples)
        sum = 0
        for term, frequency in tf_dict.items():
            sum += frequency
        self.assertEqual(sum, 1.0)

    def test_term_frequencies(self):
        tf_dict = EvaluateRestEncoder.tf_dictionary(self.samples)
        self.assertAlmostEqual(tf_dict['i'], 0.058823529411764705, places=8)
        self.assertAlmostEqual(tf_dict['like'], 0.058823529411764705, places=8)
        self.assertAlmostEqual(tf_dict['to'], 0.058823529411764705, places=8)
        self.assertAlmostEqual(tf_dict['drink'], 0.058823529411764705, places=8)
        self.assertAlmostEqual(tf_dict['coffee'], 0.11764705882352941, places=8)
        self.assertAlmostEqual(tf_dict['in'], 0.058823529411764705, places=8)
        self.assertAlmostEqual(tf_dict['the'], 0.058823529411764705, places=8)
        self.assertAlmostEqual(tf_dict['morning'], 0.058823529411764705, places=8)
        self.assertAlmostEqual(tf_dict['.'], 0.11764705882352941, places=8)

    def test_arora_embedding_single_sentence(self):
        count_vocabulary = 0
        for term, term_count in self.arora['vocabulary'].items():
            count_vocabulary += term_count
        for sentence in self.arora['test_sentences']:
            word_vectors = []
            term_frequencies = []
            for token in sentence:
                word_vectors.append(np.asarray(self.arora['word_vectors'][token], dtype=np.float64))
                term_frequencies.append(self.arora['vocabulary'][token] / count_vocabulary)
            term_frequencies = [term_frequencies]
            embeddings = EvaluateRestEncoder.arora(word_vectors, term_frequencies, 0.001)
            for embedding, expected_embedding in zip(embeddings, self.arora['expected_embeddings_single_sentence']):
                expected_embedding = np.asarray(expected_embedding)
                np.testing.assert_array_almost_equal(embedding, expected_embedding, decimal=8)

    def test_arora_embedding_multi_sentence(self):
        count_vocabulary = 0
        for term, term_count in self.arora['vocabulary'].items():
            count_vocabulary += term_count
        word_vectors = []
        term_frequencies = []
        for sentence in self.arora['test_sentences']:
            sentence_term_frequencies = []
            for token in sentence:
                word_vectors.append(np.asarray(self.arora['word_vectors'][token], dtype=np.float64))
                sentence_term_frequencies.append(self.arora['vocabulary'][token] / count_vocabulary)
            term_frequencies.append(sentence_term_frequencies)
        embeddings = EvaluateRestEncoder.arora(word_vectors, term_frequencies, 0.001)
        for embedding, expected_embedding in zip(embeddings, self.arora['expected_embeddings_multi_sentence']):
            np.testing.assert_array_almost_equal(embedding, expected_embedding, decimal=8)

    def test_average_embedding_single_sentence(self):
        term_frequencies = [[0.3, 0.1, 0.1]]
        token_vectors = [[4.0, 8.0, 15.0, 16.0], [23.0, 42.0, 4.0, 8.0], [15.0, 16.0, 23.0, 42.0]]
        expected_average = np.reshape(np.array([14.0, 22.0, 14.0, 22.0]), (1, 4))
        wrong_average = np.reshape(np.array([14.0, 22.1, 14.0001, 22.0]), (1, 4))
        np.testing.assert_equal(EvaluateRestEncoder.average(token_vectors, term_frequencies), expected_average)
        with np.testing.assert_raises(AssertionError):
            np.testing.assert_equal(EvaluateRestEncoder.average(token_vectors, term_frequencies), wrong_average)

    def test_average_embedding_multi_sentence(self):
        term_frequencies = [[0.1, 0.1, 0.1], [0.1, 0.1, 0.1]]
        token_vectors = [[4.0, 8.0, 15.0, 16.0], [23.0, 42.0, 4.0, 8.0], [15.0, 16.0, 23.0, 42.0], [1, 2, 3, 4],
                         [4, 8, 15, 16], [5, 6, 7, 8]]
        expected_average = np.array([[14.0, 22.0, 14.0, 22.0], [3.3333, 5.3333, 8.3333, 9.3333]])
        wrong_average = np.array([[14.0, 22.1, 14.0, 22.0], [3.5, 5.3333, 8.3333, 9.3333]])
        np.testing.assert_almost_equal(EvaluateRestEncoder.average(token_vectors, term_frequencies), expected_average,
                                       decimal=4)
        with np.testing.assert_raises(AssertionError):
            np.testing.assert_almost_equal(EvaluateRestEncoder.average(token_vectors, term_frequencies), wrong_average,
                                           decimal=4)

    if __name__ == '__main__':
        unittest.main()
